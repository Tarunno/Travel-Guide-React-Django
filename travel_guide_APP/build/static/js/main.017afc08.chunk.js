(this.webpackJsonppractice1=this.webpackJsonppractice1||[]).push([[0],{151:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(55),l=n.n(s),c=n(1),r=n(2),i=n(4),m=n(3),u=n(6),d=n(8),h=(n(63),n(5)),p=(n(64),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleSession=function(){var e=document.querySelectorAll("#logout-login"),t=document.querySelectorAll("#login-logout"),n=document.querySelectorAll("#profile-icon"),a=document.querySelectorAll("#profile-icon i");null===sessionStorage.getItem("token")?(e[0].style.fontSize="0px",e[1].style.fontSize="0px",e[1].style.padding="0px",e[1].style.opacity="0",n[0].style.fontSize="0px",n[0].parentNode.style.height="0px",n[1].style.fontSize="0px",a[0].style.top="-100px",t[0].style.fontSize="15px",t[1].style.fontSize="15px",t[1].style.padding="5px 10px",t[1].style.opacity="1"):(e[0].style.fontSize="15px",e[1].style.fontSize="15px",e[1].style.padding="5px 10px",e[1].style.opacity="1",t[0].style.fontSize="0px",t[1].style.fontSize="0px",t[1].style.padding="0px",t[1].style.opacity="0",n[0].style.fontSize="15px",n[0].parentNode.style.height="55px",n[1].style.fontSize="15px",a[0].style.top="4px"),e.forEach((function(o){o.addEventListener("click",(function(){sessionStorage.clear(),t[0].style.fontSize="15px",t[1].style.fontSize="15px",t[1].style.padding="5px 10px",t[1].style.opacity="1",e[0].style.fontSize="0px",e[1].style.fontSize="0px",e[1].style.padding="0px",e[1].style.opacity="0",n[0].style.fontSize="0px",n[0].parentNode.style.height="0px",n[1].style.fontSize="0px",a[0].style.top="-100px"}))}))},a.handleMenuClick=function(){if(a.state.menu_clicked){a.setState({menu_clicked:!1});var e=document.querySelector(".navbar");window.scrollY<100&&(e.style.backgroundColor="transparent"),e.style.transition=".4s"}else{a.setState({menu_clicked:!0}),(e=document.querySelector(".navbar")).style.backgroundColor="#010724",e.style.transition=".4s"}},a.handleMenuItemClick=function(){a.setState({menu_clicked:!1});var e=document.querySelector(".navbar");window.scrollY<100&&(e.style.backgroundColor="transparent"),e.style.transition=".4s"},a.handleManuIcon=function(){window.innerWidth<=960?a.setState({menu_btn:!0}):(a.setState({menu_btn:!1}),a.setState({menu_clicked:!1}))},a.getMenuBtnStyle=function(){return{display:a.state.menu_btn?"inline":"none"}},a.handleNav=function(){var e=document.querySelector(".navbar");window.scrollY>=100?(e.style.backgroundColor="#010724",e.style.transition=".6s"):(e.style.backgroundColor="transparent",e.style.transition=".6s")},a.handleLogout=function(){sessionStorage.clear(),a.setState({signin_btn:!1})},a.state={menu_clicked:!1,menu_btn:!1},a.handleMenuClick=a.handleMenuClick.bind(Object(h.a)(a)),a.handleManuIcon=a.handleManuIcon.bind(Object(h.a)(a)),a.handleMenuItemClick=a.handleMenuItemClick.bind(Object(h.a)(a)),a.handleNav=a.handleNav.bind(Object(h.a)(a)),a.handleSession=a.handleSession.bind(Object(h.a)(a)),a}return Object(r.a)(n,[{key:"componentWillMount",value:function(){window.innerWidth<=960?this.setState({menu_btn:!0}):(this.setState({menu_btn:!1}),this.setState({menu_clicked:!1}))}},{key:"componentDidMount",value:function(){this.handleSession(),window.addEventListener("resize",this.handleManuIcon),window.addEventListener("scroll",this.handleNav)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"navbar"},o.a.createElement("div",{className:"navbar-container"},o.a.createElement(u.b,{style:g,to:"/"},o.a.createElement("i",{style:{fontSize:"32px"},className:"fab fa-asymmetrik"})," TARUNNO-Tarvels"),o.a.createElement("div",{style:this.getMenuBtnStyle(),className:"menu-icon",onClick:this.handleMenuClick},o.a.createElement("i",{className:this.state.menu_clicked?"fa fa-times":"fa fa-bars"})),o.a.createElement("div",{className:"menu-items"},o.a.createElement("ul",{className:this.state.menu_clicked?"nav-menu active":"nav-menu"},o.a.createElement("div",{className:"nav-menu-container"},o.a.createElement("li",{className:"menus-item",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{style:g,to:"/"}," Home ")),o.a.createElement("li",{className:"menus-item",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{style:g,to:"/about"}," About ")),o.a.createElement("li",{className:"menus-item",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{style:g,to:"/"}," Packages ")),o.a.createElement("li",{className:"menus-item",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{id:"profile-icon",style:g,to:"/profile"}," Profile ")),o.a.createElement("li",{className:"menus-item",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{id:"login-logout",className:"menus-item-signup",style:g,to:"/signin"}," SIGN IN "),o.a.createElement(u.b,{id:"logout-login",className:"menus-item-logout",style:g,to:"/"}," LOG OUT "))))),o.a.createElement("div",{className:"menu-items-desktop"},o.a.createElement("ul",{className:this.state.menu_btn?"nav-menu-desktop":"nav-menu-desktop show"},o.a.createElement("div",{className:"nav-menu-desktop-container"},o.a.createElement("li",{className:"menus-item-desktop",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{style:g,to:"/"}," Home ")),o.a.createElement("li",{className:"menus-item-desktop",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{style:g,to:"/about"}," About ")),o.a.createElement("li",{className:"menus-item-desktop",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{style:g,to:"/"}," Packages ")),o.a.createElement("li",{className:"menus-item-desktop",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{id:"profile-icon",style:g,to:"/profile"}," ",o.a.createElement("i",{className:"fas fa-user-circle"})," ")),o.a.createElement("li",{className:"menus-item-desktop",onClick:this.handleMenuItemClick},o.a.createElement(u.b,{id:"login-logout",className:"menus-item-desktop-signup",style:g,to:"/signin"}," SIGN IN "),o.a.createElement(u.b,{id:"logout-login",className:"menus-item-desktop-logout",style:g,to:"/"}," LOG OUT "))))))))}}]),n}(a.Component)),g={textDecoration:"none",fontFamily:"Arial, sans-serif"},f=p,y=(n(70),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleBackground=function(){var e=document.querySelector(".showcase video");e.addEventListener("loadeddata",(function(t){if(4==e.readyState)try{document.querySelector(".showcase").style.backgroundImage="linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.2))"}catch(t){console.log(t)}}))},a.state={video:!1},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.handleBackground()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"showcase"},o.a.createElement("video",{src:"./static/videos/video-1.mp4",autoPlay:!0,loop:!0,muted:!0}),o.a.createElement("div",{className:"showcase-text"},o.a.createElement("h1",null," Affordable Travel and Explorations "),o.a.createElement("p",null," It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters"),o.a.createElement(u.b,{to:"/signin",className:"showcase-btn-primary"}," GET STARTED "),o.a.createElement("a",{href:"https://www.youtube.com/watch?v=-pLkhTnaslk",className:"showcase-btn-secondary"}," WATCH TARILER "))))}}]),n}(a.Component)),v=(n(71),n(72),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClassName=function(){a.props.trending&&a.setState({isTrending:!0}),a.props.isCategory&&a.setState({isCategory:!0})},a.state={isTrending:!1,isCategory:!1},a}return Object(r.a)(n,[{key:"componentWillMount",value:function(){this.handleClassName()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.b,{to:{pathname:this.props.address+this.props.subAddress,state:{target:this.props.target,image:this.props.img}}},o.a.createElement("div",{className:this.state.isTrending?"Card-primary":"Card-secondary"},o.a.createElement("div",{className:"Card-container"},o.a.createElement("div",{className:"Card-img"},o.a.createElement("img",{src:this.props.img})),o.a.createElement("p",{className:this.props.isCategory?"category":"hide"}," ",this.props.category," "),o.a.createElement("h3",{className:"title"}," ",this.props.title," ")))))}}]),n}(a.Component)),E=(n(73),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Loader"},this.props.loading?o.a.createElement("img",{src:"./static/images/spinner.svg"}):null))}}]),n}(a.Component)),b=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"CardContainer"},o.a.createElement("div",{className:"CardContainer-container"},o.a.createElement("h1",null," ",this.props.heading," "),o.a.createElement(E,{loading:this.props.loading}),this.props.categories.map((function(t){return t.trending?o.a.createElement(v,{key:t.id,img:"http://localhost:8000/travel"+t.image,category:t.name,target:t.id,title:t.title.substring(0,80)+"...",trending:t.trending,address:e.props.address,subAddress:t.id,isCategory:e.props.isCategory}):null})),this.props.categories.map((function(t){return t.trending?null:o.a.createElement(v,{key:t.id,img:"http://localhost:8000/travel"+t.image,category:t.name,target:t.id,title:t.title.substring(0,80)+"...",trending:t.trending,address:e.props.address,subAddress:t.id,isCategory:e.props.isCategory})})))))}}]),n}(a.Component),S=(n(74),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Footer"},o.a.createElement("div",{className:"Footer-container"},o.a.createElement("p",{className:"footer-text-primary"},"Subscribe our Updates' newsletter and get the best vecation deals"),o.a.createElement("p",{className:"footer-text-secondary"},"You can unsubscribe any time you want"),o.a.createElement("div",{className:"input-fields"},o.a.createElement("input",{type:"text",placeholder:"Email..."}),o.a.createElement("button",null," Subscribe ")),o.a.createElement("div",{className:"more-footer-info1"},o.a.createElement("div",{className:"about-us"},o.a.createElement("p",{className:"footer-heading"}," About us "),o.a.createElement("p",{className:"footer-text"},"How it works"),o.a.createElement("p",{className:"footer-text"},"Testimonials"),o.a.createElement("p",{className:"footer-text"},"Careers"),o.a.createElement("p",{className:"footer-text"},"Trem and service"),o.a.createElement("p",{className:"footer-text"},"Policies")),o.a.createElement("div",{className:"about-us"},o.a.createElement("p",{className:"footer-heading"}," Contact us "),o.a.createElement("p",{className:"footer-text"},"Contact"),o.a.createElement("p",{className:"footer-text"},"Support"),o.a.createElement("p",{className:"footer-text"},"Destinations"),o.a.createElement("p",{className:"footer-text"},"Sponsorship"))),o.a.createElement("div",{className:"more-footer-info2"},o.a.createElement("div",{className:"about-us"},o.a.createElement("p",{className:"footer-heading"}," Videos "),o.a.createElement("p",{className:"footer-text"},"Submit video"),o.a.createElement("p",{className:"footer-text"},"Ambassadors"),o.a.createElement("p",{className:"footer-text"},"Agency"),o.a.createElement("p",{className:"footer-text"},"Influencer")),o.a.createElement("div",{className:"about-us"},o.a.createElement("p",{className:"footer-heading"}," Social Media "),o.a.createElement("p",{className:"footer-text"},"Facebook"),o.a.createElement("p",{className:"footer-text"},"Twitter"),o.a.createElement("p",{className:"footer-text"},"Youtube"),o.a.createElement("p",{className:"footer-text"},"Instagram"))))))}}]),n}(a.Component)),k=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).fetchCategory=function(){console.log("Fetching Categories...");fetch("http://localhost:8000/travel/category-list/").then((function(e){return e.json()})).then((function(e){a.setState({categories:e,loading:!1}),console.log("Categories fetched!")}))},a.state={categories:[],loading:!0},a.fetchCategory=a.fetchCategory.bind(Object(h.a)(a)),a}return Object(r.a)(n,[{key:"componentWillMount",value:function(){this.fetchCategory(),window.scrollTo(0,0)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(y,null),o.a.createElement(b,{loading:this.state.loading,address:"/category/",isCategory:!0,heading:"Explore Exciting places with us!",categories:this.state.categories}),o.a.createElement(S,null))}}]),n}(a.Component),N=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null)}}]),n}(a.Component),C=(n(75),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).fetchPlaces=function(){console.log("Fetching places...");var e="http://localhost:8000/travel/category-place/"+a.props.location.state.target;fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({places:e,loading:!1}),console.log("Places fetched!")})).catch((function(e){console.log(e)}))},a.getCategory=function(){var e="http://localhost:8000/travel/category/"+a.props.location.state.target;fetch(e).then((function(e){return e.json()})).then((function(e){a.setState({categoryName:e}),console.log(a.state.categoryName)})).catch((function(e){console.log(e)}))},a.state={places:[],categoryName:"",loading:!0},a.fetchPlaces=a.fetchPlaces.bind(Object(h.a)(a)),a}return Object(r.a)(n,[{key:"componentWillMount",value:function(){this.fetchPlaces(),this.getCategory(),window.scrollTo(0,0)}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Category"},o.a.createElement("div",{style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5),rgba(0, 0, 0, 0.3)), url("+this.props.location.state.image+")"},className:"Category-container"},o.a.createElement("div",{className:"Category-container-text"},o.a.createElement("h1",null," ",this.state.categoryName," ")))),o.a.createElement(b,{address:"/place/",loading:this.state.loading,isCategory:!1,heading:this.state.categoryName+" places",categories:this.state.places}),o.a.createElement(S,null))}}]),n}(a.Component)),j=n(21),O=(n(76),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a,o;return Object(c.a)(this,n),(o=t.call(this,e)).setImage=function(e){console.log(e.target.files[0]),o.setState({selectedImage:e.target.files[0]})},o.changePhoto=function(){var e=!1,t=document.querySelector(".upload-window"),n=document.querySelector(".change-image-constainer"),a=document.querySelector(".upload-window-mini");n.addEventListener("click",(function(){t.classList.add("active"),a.classList.add("active"),e=!0})),t.addEventListener("click",(function(){!1===e?(t.classList.add("active"),a.classList.add("active"),e=!0):(t.classList.remove("active"),a.classList.remove("active"),e=!1)}))},o.uploadImage=function(){var e=new FormData;e.append("image",o.state.selectedImage,o.state.selectedImage.name),e.append("user",sessionStorage.getItem("username")),console.log(Array.from(e));fetch("http://localhost:8000/travel/profile-photo/",{method:"POST",headers:{Authorization:"Token "+o.state.token},body:e}).then((function(e){return e.json()})).then((function(e){e=JSON.parse(e),o.setState({image:e.image});var t=document.querySelector(".upload-window"),n=document.querySelector(".upload-window-mini");t.classList.remove("active"),n.classList.remove("active"),document.querySelector(".image-field").value=null})).catch((function(e){console.log("Error: ",e)}))},o.fetchUser=function(){console.log("Fetching user...");var e="http://localhost:8000/travel/user-profile/"+o.state.username;fetch(e,{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){o.setState({user_id:e.user,image:e.image}),console.log("User fetched!")})).catch((function(e){console.log("Error: ",e)}))},o.fetchUserDetail=function(){console.log("Fetching user details...");var e="http://localhost:8000/travel/user-details/"+o.state.username;fetch(e,{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){o.setState({email:e.email,name:e.first_name+" "+e.last_name}),console.log("User deatils fetched!")})).catch((function(e){console.log("Error: ",e)}))},o.fetchPinPlace=function(){console.log("Fetching pin places...");var e="http://localhost:8000/travel/user-pin-place/"+o.state.token;fetch(e,{method:"GET",headers:{"Content-type":"application/json",Authorization:"Token "+o.state.token}}).then((function(e){return e.json()})).then((function(e){console.log(e),o.setState({places:e,loading:!1}),console.log("Pin places fetched!")})).catch((function(e){console.log("Error: ",e)}))},o.state=(a={username:sessionStorage.getItem("username"),token:sessionStorage.getItem("token"),user_id:null,name:null,email:null,image:null,loading:!0,places:[]},Object(j.a)(a,"loading",!0),Object(j.a)(a,"selectedImage",null),a),o.fetchUser=o.fetchUser.bind(Object(h.a)(o)),o.fetchUserDetail=o.fetchUserDetail.bind(Object(h.a)(o)),o.fetchPinPlace=o.fetchPinPlace.bind(Object(h.a)(o)),o.changePhoto=o.changePhoto.bind(Object(h.a)(o)),o.setImage=o.setImage.bind(Object(h.a)(o)),o}return Object(r.a)(n,[{key:"componentWillMount",value:function(){this.fetchUser(),this.fetchUserDetail(),this.fetchPinPlace(),window.scrollTo(0,0)}},{key:"componentDidMount",value:function(){this.changePhoto()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"upload-window"}),o.a.createElement("div",{className:"upload-window-mini"},o.a.createElement("input",{type:"file",className:"image-field",onChange:this.setImage}),o.a.createElement("button",{type:"button",onClick:this.uploadImage,className:"image-upload-btn"}," Upload ")),o.a.createElement("div",{className:"Profile"},o.a.createElement("div",{className:"Profile-constainer"},o.a.createElement("div",{className:"Profile-info"},o.a.createElement("div",{className:"change-image-constainer",onClick:this.changePhoto},o.a.createElement("i",{id:"change-image",className:"fas fa-camera"})),o.a.createElement("img",{src:null!==this.state.image?"http://localhost:8000/travel"+this.state.image:"./static/images/default.png"}),o.a.createElement("h1",{className:"name"}," ",this.state.name," "),o.a.createElement("h1",{className:"username"}," @",this.state.username," ")))),o.a.createElement(b,{address:"/place/",loading:this.state.loading,isCategory:!1,heading:"Your pinned places!",categories:this.state.places}),o.a.createElement(S,null))}}]),n}(a.Component)),w=n(39),x=n(22),I=(n(77),n(78),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={comment:a.props.comment},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Comment"},o.a.createElement("div",{className:"Comment-container"},o.a.createElement("img",{src:"http://"+this.state.comment.image}),o.a.createElement("div",{className:"commenter-info"},o.a.createElement("p",{className:"fullname"}," ",this.state.comment.username),this.state.comment.user==this.props.user?o.a.createElement("button",{className:"delete-comment",onClick:this.props.deleteComment.bind(this,this.props.id)},"Delete"):null,this.state.comment.user==this.props.user?o.a.createElement("button",{className:"edit-comment",onClick:function(){return t.updateComment(e.props.comment)}},"Update"):null,o.a.createElement("p",{className:"time"}," ",this.state.comment.time," "),o.a.createElement("p",{className:"comment"}," ",this.state.comment.comment," ")))))}}]),n}(a.Component)),_=(n(79),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Comments"},o.a.createElement("div",{className:"Comments-container"},o.a.createElement("h1",null," Comments "),this.props.logged_in?o.a.createElement("div",{className:"comment-form"},o.a.createElement("input",{onChange:this.props.handleChange,className:"comment-input",type:"text",placeholder:"Write comment..."}),o.a.createElement("button",{onClick:this.props.handleSubmit,className:"comment-btn"}," Comment ")):null,this.props.comments.map((function(t){return o.a.createElement(I,{key:t.id,id:t.id,user:sessionStorage.getItem("username"),updateComment:e.props.updateComment,deleteComment:e.props.deleteComment,comment:t})})))))}}]),n}(a.Component)),T=n(57),P=n.n(T),q=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).deleteComment=function(e){fetch("http://localhost:8000/travel/comment-delete/",{method:"DELETE",headers:{"Content-type":"application/json",Authorization:"Token "+sessionStorage.getItem("token")},body:JSON.stringify({user:sessionStorage.getItem("username"),id:e})}).then((function(e){return e.json()})).then((function(t){var n=[];a.state.comments.forEach((function(t,a){t.id!=e&&n.push(t)})),a.setState({comments:n,count_comment:a.state.count_comment-1}),a.getComments()})).catch((function(e){console.log("Error:",e)}))},a.handleChange=function(e){var t=e.target.value;a.setState({comment:Object(x.a)(Object(x.a)({},a.state.comment),{},{comment:t})})},a.handleSubmit=function(){if(!1===a.state.editing){var e="http://localhost:8000/travel/comment-add/";fetch(e,{method:"POST",headers:{"Content-type":"application/json",Authorization:"Token "+sessionStorage.getItem("token")},body:JSON.stringify(a.state.comment)}).then((function(e){return e.json()})).then((function(e){e=JSON.parse(e),a.setState({comments:[e].concat(Object(w.a)(a.state.comments)),count_comment:a.state.count_comment+1,comment_start:a.state.comment_start+3,comment_end:a.state.comment_end+3})})).catch((function(e){console.log("Error:",e)}))}else{e="http://localhost:8000/travel/comment-update/";fetch(e,{method:"POST",headers:{"Content-type":"application/json",Authorization:"Token "+sessionStorage.getItem("token")},body:JSON.stringify(a.state.comment)}).then((function(e){return e.json()})).then((function(e){e=JSON.parse(e),a.state.comments.forEach((function(t,n){t.id===e.id&&(t.comment=e.comment)})),a.setState({editing:!1})})).catch((function(e){console.log("Error:",e)}))}document.querySelector(".comment-input").value=""},a.getComments=function(){if(null!==sessionStorage.getItem("token")){console.log("fetching comments...");var e="http://localhost:8000/travel/comments/"+a.props.location.state.target+"/"+a.state.comment_start+"/"+a.state.comment_end;fetch(e,{method:"GET",headers:{"Content-type":"application/json",Authorization:"Token "+sessionStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);console.log(t),0==t[0].length&&a.setState({load_more:!1}),t[0].forEach((function(e){a.setState({comments:[].concat(Object(w.a)(a.state.comments),[e])})})),a.setState({logged_in:!0,loading2:!1,message:null,comment_start:a.state.comment_start+3,comment_end:a.state.comment_end+3,count_comment:t[1].count_comment}),console.log("Comments fetched")})).catch((function(e){console.log(e)}))}else a.setState({loading2:!1,message:"Please Signin!",load_more:!1})},a.handleLove=function(){document.querySelector("#love").addEventListener("click",(function(){if(null!==sessionStorage.getItem("token")){var e="http://localhost:8000/travel/love-swap/"+a.props.location.state.target+"/"+sessionStorage.getItem("username");fetch(e,{method:"GET",headers:{"Content-type":"application/json",Authorization:"Token "+sessionStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){a.setState({loved:e.loved,count_love:e.count_love})})).catch((function(e){console.log(e)}))}}))},a.LoveCheck=function(){if(null!==sessionStorage.getItem("token")){var e="http://localhost:8000/travel/love-check/"+a.props.location.state.target+"/"+sessionStorage.getItem("username");fetch(e,{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({loved:e.loved,count_love:e.count_love})})).catch((function(e){console.log(e)}))}else{e="http://localhost:8000/travel/love-check/"+a.props.location.state.target+"/default";fetch(e,{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({loved:e.loved,count_love:e.count_love})})).catch((function(e){console.log(e)}))}},a.PinCheck=function(){if(null!==sessionStorage.getItem("username")){var e="http://localhost:8000/travel/pin-check/"+a.props.location.state.target+"/"+sessionStorage.getItem("username");fetch(e,{method:"GET",headers:{"Content-type":"application/json",Authorization:"Token "+sessionStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){a.setState({pinned:e.pinned})})).catch((function(e){console.log(e)}))}},a.fetchPlace=function(){console.log("Fetching place...");var e="http://localhost:8000/travel/place/"+a.props.location.state.target;fetch(e,{method:"GET",headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({place:e,loading1:!1}),console.log("Place fetched!")})).catch((function(e){console.log(e)}))},a.handlePin=function(){null!=sessionStorage.getItem("token")&&document.querySelector("#pinned").addEventListener("click",(function(){a.state.pinned?(console.log("Unpinned!"),a.setState({pinned:!1})):(console.log("Pinned!"),a.setState({pinned:!0}));var e="http://localhost:8000/travel/pin-swap/"+a.props.location.state.target+"/"+sessionStorage.getItem("username");fetch(e,{method:"GET",headers:{"Content-type":"application/json",Authorization:"Token "+sessionStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log("Error: ",e)}))}))},a.smoothScroll=function(){var e=document.querySelector(".fa-comment");e.style.cursor="pointer",e.addEventListener("click",(function(){!function(e,t){var n=(e=document.querySelector(e)).getBoundingClientRect().top,a=window.pageYOffset,o=n,s=null;requestAnimationFrame((function e(n){null==s&&(s=n);var l,c,r,i=n-s,m=(l=i,c=a,r=o-42,(l/=t/2)<1?r/2*l*l+c:(l--,-r/2*(l*(l-2)-1)+c));window.scrollTo(0,m),i<t&&requestAnimationFrame(e)}))}(".Comments",1500)}))},a.state={place:{},loading1:!0,loading2:!0,pinned:!1,loved:!1,count_love:0,count_comment:0,comments:[],message:null,comment_start:0,comment_end:3,load_more:!0,logged_in:!1,comment:{id:null,user:sessionStorage.getItem("username"),comment:null,place:a.props.location.state.target},editing:!1},a.PinCheck=a.PinCheck.bind(Object(h.a)(a)),a.fetchPlace=a.fetchPlace.bind(Object(h.a)(a)),a.handlePin=a.handlePin.bind(Object(h.a)(a)),a.LoveCheck=a.LoveCheck.bind(Object(h.a)(a)),a.getComments=a.getComments.bind(Object(h.a)(a)),a.smoothScroll=a.smoothScroll.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.updateComment=a.updateComment.bind(Object(h.a)(a)),a}return Object(r.a)(n,[{key:"updateComment",value:function(e){document.querySelector(".comment-input").value=e.comment,this.setState({editing:!0,comment:Object(x.a)(Object(x.a)({},this.state.comment),{},{id:e.id,comment:e.comment})})}},{key:"componentWillMount",value:function(){this.fetchPlace(),this.PinCheck(),this.LoveCheck(),this.getComments(),window.scrollTo(0,0)}},{key:"componentDidMount",value:function(){this.handlePin(),this.handleLove(),this.smoothScroll()}},{key:"render",value:function(){var e=this.state.place.description;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"Place"},o.a.createElement("div",{style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.5),rgba(0, 0, 0, 0.3)), url("+this.props.location.state.image+")"},className:"Place-container"},o.a.createElement("h1",{className:"Place-container-text"}," ",this.state.place.title," "),o.a.createElement("div",{className:"Place-options"},o.a.createElement("div",{className:"Place-options-icon"},this.state.loved?o.a.createElement("i",{id:"love",className:"fas fa-heart active-heart"}):o.a.createElement("i",{id:"love",className:"fas fa-heart"}),o.a.createElement("p",{style:{display:"inline",fontSize:"20px",marginRight:"10px",fontWeight:"bold"}}," "+this.state.count_love+" "),o.a.createElement("i",{className:"fas fa-comment"}),o.a.createElement("p",{style:{display:"inline",fontSize:"20px",marginRight:"10px",fontWeight:"bold"}}," "+this.state.count_comment+" "),this.state.pinned?o.a.createElement("i",{id:"pinned",className:"fas fa-thumbtack active"}):o.a.createElement("i",{id:"pinned",className:"fas fa-thumbtack"})," ")))),o.a.createElement("div",{className:"Place-details"},o.a.createElement("div",{className:"Place-details-container"},o.a.createElement("p",{className:"description-heading"}," Description "),o.a.createElement("p",{className:"login-message"}," "),o.a.createElement(P.a,{source:e,escapeHtml:!1}))),o.a.createElement(E,{loading:this.state.loading1}),o.a.createElement(_,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,updateComment:this.updateComment,deleteComment:this.deleteComment,logged_in:this.state.logged_in,comments:this.state.comments}),o.a.createElement("p",{className:"login-message"}," ",this.state.message),o.a.createElement(E,{loading:this.state.loading2}),this.state.load_more?o.a.createElement("p",{onClick:this.getComments,className:"load-more"}," More comments "):null,o.a.createElement(S,null))}}]),n}(a.Component),F=(n(151),function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=!1,t="",n=document.querySelector(".username"),o=document.querySelector(".first_name"),s=document.querySelector(".last_name"),l=document.querySelector(".email"),c=document.querySelector(".password"),r=document.querySelector(".re-password");c.value.length<8&&(e=!0,t="Password must contain at least 8 characters!"),c.value!=r.value&&(e=!0,t="Password doesn't match!");[".username",".first_name",".last_name",".email",".password",".re-password"].forEach((function(n){var a=document.querySelector(n);""===a.value&&(a.style.boxShadow="0px 0px 3px red",e=!0,t="Empty Feilds!")})),e?(document.querySelector(".error-message").innerHTML=t,document.querySelector(".error-message").style.color="red",t=""):(t="",document.querySelector(".error-message").innerHTML=t,a.createUser({username:n.value,first_name:o.value,last_name:s.value,email:l.value,password:c.value}))},a.createUser=function(e){var t=a.getToken("csrftoken");fetch("http://localhost:8000/travel/user-register/",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":t},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(t){console.log(t),t.email[0]===e.email?(document.querySelector(".error-message").innerHTML="Account created successfully!",document.querySelector(".error-message").style.color="green",a.clearInputFrom()):(document.querySelector(".error-message").innerHTML=t.email[0],document.querySelector(".error-message").style.color="red")})).catch((function(e){console.log("ERROR: ",e)}))},a.handleInputForm=function(e){e.target.style.boxShadow="0px 0px 0px white"},a.clearInputFrom=function(){[".username",".first_name",".last_name",".email",".password",".re-password",".username-login",".password-login"].forEach((function(e){document.querySelector(e).value=""}))},a.handleLoginSubmit=function(){var e=!1,t="",n=document.querySelector(".username-login"),o=document.querySelector(".password-login");[".username-login",".password-login"].forEach((function(n){var a=document.querySelector(n);""===a.value&&(a.style.boxShadow="0px 0px 3px red",e=!0,t="Empty Feilds!")})),e?(document.querySelector(".error-message-login").innerHTML=t,document.querySelector(".error-message-login").style.color="red",t=""):(t="",document.querySelector(".error-message-login").innerHTML=t,a.login({username:n.value,password:o.value}))},a.login=function(e){var t=a.getToken("csrftoken");fetch("http://localhost:8000/travel/user-login/",{method:"POST",headers:{"Content-type":"application/json","X-CSRFToken":t},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(t){if(console.log(t.token),"undefined"!==typeof t.token){sessionStorage.setItem("username",e.username),sessionStorage.setItem("token",t.token),document.querySelector(".error-message-login").innerHTML="You are logged in!",document.querySelector(".error-message-login").style.color="green";var n=document.querySelectorAll("#logout-login"),a=document.querySelectorAll("#login-logout"),o=document.querySelectorAll("#profile-icon"),s=document.querySelectorAll("#profile-icon i");n[0].style.fontSize="15px",n[1].style.fontSize="15px",n[1].style.padding="5px 10px",n[1].style.opacity="1",a[0].style.fontSize="0px",a[1].style.fontSize="0px",a[1].style.padding="0px",a[1].style.opacity="0",o[0].style.fontSize="15px",o[0].parentNode.style.height="55px",o[1].style.fontSize="15px",s[0].style.top="4px"}else document.querySelector(".error-message-login").innerHTML="Invalid username or password",document.querySelector(".error-message-login").style.color="red"})).catch((function(e){console.log("ERROR: ",e)}))},a}return Object(r.a)(n,[{key:"getToken",value:function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var o=n[a].trim();if(o.substring(0,e.length+1)===e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"signin-showcase"},o.a.createElement("div",{className:"signin-showcase-container"},o.a.createElement("div",{className:"signin-showcase-text"},o.a.createElement("h1",null," Join our wonderfull community "),o.a.createElement("p",null," Help and contribute in others trip and travels experiances ")))),o.a.createElement("div",{className:"signup-form"},o.a.createElement("div",{className:"signup-form-container"},o.a.createElement("h1",null," SIGN UP "),o.a.createElement("p",{className:"error-message"}," "),o.a.createElement("input",{type:"text",onClick:this.handleInputForm,className:"username",placeholder:"Username..."}),o.a.createElement("input",{type:"text",onClick:this.handleInputForm,className:"first_name",placeholder:"First name..."}),o.a.createElement("input",{type:"text",onClick:this.handleInputForm,className:"last_name",placeholder:"Last name..."}),o.a.createElement("input",{type:"email",onClick:this.handleInputForm,className:"email",placeholder:"Email..."}),o.a.createElement("input",{type:"password",onClick:this.handleInputForm,className:"password",placeholder:"Password..."}),o.a.createElement("input",{type:"password",onClick:this.handleInputForm,className:"re-password",placeholder:"Re-enter password..."}),o.a.createElement("button",{onClick:this.handleSubmit}," Sign Up ")),o.a.createElement("div",{className:"login-form-container"},o.a.createElement("h1",null," SIGN IN "),o.a.createElement("p",{className:"error-message-login"}," "),o.a.createElement("input",{type:"text",onClick:this.handleInputForm,className:"username-login",placeholder:"Username..."}),o.a.createElement("input",{type:"password",onClick:this.handleInputForm,className:"password-login",placeholder:"Password..."}),o.a.createElement("button",{onClick:this.handleLoginSubmit}," Login "),o.a.createElement("div",{className:"note"},o.a.createElement("h3",null," NOTE: "),o.a.createElement("p",null," ",o.a.createElement("i",{className:"fas fa-hand-point-right"})," Please give a valid email addresss "),o.a.createElement("p",null," ",o.a.createElement("i",{className:"fas fa-hand-point-right"})," Fill up all the feilds "),o.a.createElement("p",null," ",o.a.createElement("i",{className:"fas fa-hand-point-right"})," Username and email should be unique "),o.a.createElement("p",null," ",o.a.createElement("i",{className:"fas fa-hand-point-right"})," Password length should be minimum 8 "),o.a.createElement("p",null," ",o.a.createElement("i",{className:"fas fa-hand-point-right"})," After creating an account you can add profile picture later from your profile ")))),o.a.createElement(S,null))}}]),n}(a.Component)),M=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(u.a,null,o.a.createElement(f,null),o.a.createElement(d.c,null,o.a.createElement(d.a,{path:"/",exact:!0,component:k}),o.a.createElement(d.a,{path:"/about",exact:!0,component:N}),o.a.createElement(d.a,{path:"/category/",component:C}),o.a.createElement(d.a,{path:"/place/",component:q}),o.a.createElement(d.a,{path:"/signin/",component:F}),o.a.createElement(d.a,{path:"/profile",component:O}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,n){e.exports=n(152)},63:function(e,t,n){},64:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){}},[[58,1,2]]]);
//# sourceMappingURL=main.017afc08.chunk.js.map